<!DOCTYPE html>
<html lang="en">
<head>
<title>World</title>
<link rel="stylesheet" href="world.css">
<script type="text/javascript">
var conn;

window.onload = function () {
    if (window["WebSocket"]) {
        conn = new WebSocket("ws://" + document.location.host + "/ws")
        conn.onclose = function (evt) {
            console.log("Connection closed!")
        };
        conn.onmessage = function (evt) {
            if (evt.data) {
                console.log("got message:", evt.data)
            }
        };
    } else {
        console.log("Your browser does not support WebSockets!")
    }
};

var x, y;

function mousedown(e) {
  x = e.x
  y = e.y
}

function mouseup(e) {
  conn.send([x, y, e.x, e.y].join(" "))
}
</script>
</head>
<body>
  <canvas id="main" onmousedown="mousedown(event)" onmouseup="mouseup(event)">Canvas disabled/unsupported</canvas>
</body>
</html>
